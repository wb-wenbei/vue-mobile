(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["credits"],{3382:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[a("van-list",t._g(t._b({attrs:{finished:t.finished,"finished-text":t.finishedText,"error-text":t.errorText},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},"van-list",t.$attrs,!1),t.$listeners),[t._l(t.list,(function(e){return[a("div",{key:e.id,staticClass:"list-item"},[t._t("default",[a("van-cell",{attrs:{title:e.name||"--"}})],{item:e})],2)]}))],2)],1)},s=[],n=(a("99af"),a("a9e3"),a("d3b7"),a("2909")),r={name:"list",props:{api:{type:Function},params:{type:Object},pageSize:{type:Number},finishedText:{type:String,default:"没有更多了"},errorText:{type:String,default:"加载失败，请重试！"}},data:function(){return{list:[],loading:!1,finished:!1,refreshing:!1,pageParams:{pageSize:null,page:null},page:{pageSize:null,totalCount:null,currentPage:null}}},created:function(){this.pageParams.pageSize=this.pageSize||10},methods:{onLoad:function(){var t=this;this.pageParams.page=this.page.currentPage?this.page.currentPage+1:1;var e=Object.assign(this.pageParams,this.params);this.api(e).then((function(e){if(e){var a=e.data||(Array.isArray(e)?e:[]);t.list=[].concat(Object(n["a"])(t.list),Object(n["a"])(a)),console.log(111,t.list),t.page.currentPage=e.page,t.page.totalCount=e.totalCount,t.page.pageSize=e.pageSize,(!t.page.pageSize||t.page.currentPage*t.page.pageSize>=t.page.totalCount)&&(t.finished=!0)}else t.finished=!0})).catch((function(){t.finished=!0})).finally((function(){t.loading=!1,t.refreshing=!1}))},onRefresh:function(){this.finished=!1,this.loading=!0,this.list=[],this.page={pageSize:null,totalCount:null,currentPage:null},this.pageParams={pageSize:this.pageSize||10,page:null},this.onLoad()}}},c=r,o=a("2877"),l=Object(o["a"])(c,i,s,!1,null,"12b14226",null);e["a"]=l.exports},6081:function(t,e,a){},"99af":function(t,e,a){"use strict";var i=a("23e7"),s=a("d039"),n=a("e8b5"),r=a("861d"),c=a("7b0b"),o=a("50c4"),l=a("8418"),d=a("65f0"),u=a("1dde"),p=a("b622"),g=a("2d00"),f=p("isConcatSpreadable"),h=9007199254740991,v="Maximum allowed index exceeded",m=g>=51||!s((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),b=u("concat"),_=function(t){if(!r(t))return!1;var e=t[f];return void 0!==e?!!e:n(t)},C=!m||!b;i({target:"Array",proto:!0,forced:C},{concat:function(t){var e,a,i,s,n,r=c(this),u=d(r,0),p=0;for(e=-1,i=arguments.length;e<i;e++)if(n=-1===e?r:arguments[e],_(n)){if(s=o(n.length),p+s>h)throw TypeError(v);for(a=0;a<s;a++,p++)a in n&&l(u,p,n[a])}else{if(p>=h)throw TypeError(v);l(u,p++,n)}return u.length=p,u}})},c02c:function(t,e,a){"use strict";a("6081")},ec41:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"credits-content"},[a("div",{staticClass:"credits-card"},[a("div",{staticClass:"card-header"},[t._m(0),a("div",{staticClass:"credits-btn"},[a("van-button",{attrs:{size:"mini",color:"white"},on:{click:t.toExchange}},[t._v(" 积分兑换 ")])],1)]),a("div",{staticClass:"card-status"},[a("div",{staticClass:"button"},[a("div",{staticClass:"button-content"},[t._v(" "+t._s(t.detail.hasReport?"已签到":"未签到")+" ")])])]),a("div",{staticClass:"card-description"},[t._v(" 今日"+t._s(t.detail.hasReport?"已签到":"未签到")+"，目前项目排名"+t._s(t.detail.sort)+" ")])]),a("div",{staticClass:"common-card"},[a("page-list",{attrs:{api:t.pageAPI,params:t.params},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.item;return[a("div",{staticClass:"credit-item"},[a("div",{staticClass:"item-header"},[a("div",[t._v(" "+t._s(i.time||"08:04:33")+" "+t._s(i.title||"上班签到")+" ")]),a("div",{staticClass:"header-right"},[t._v("+15积分")])]),a("div",{staticClass:"item-date style-sub-text"},[t._v(" "+t._s(i.date||"2020-01-02")+" ")])])]}}])})],1)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"credits"},[a("span",[t._v("4000")]),t._v(" 积分")])}],n=a("afaa"),r=function(t){return Object(n["a"])({url:"/api-customer/account/loginRecord/get",method:"GET",params:t})},c=a("3382"),o={name:"Credits",components:{PageList:c["a"]},data:function(){return{pageAPI:r,params:{},detail:{credits:4e3,hasReport:!0,sort:142}}},methods:{toExchange:function(){this.$router.push({path:"/credits/exchange"})}}},l=o,d=(a("c02c"),a("2877")),u=Object(d["a"])(l,i,s,!1,null,"41d19b8f",null);e["default"]=u.exports}}]);
//# sourceMappingURL=credits.015717a4.js.map