(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["message"],{"0365":function(t,e,a){},1613:function(t,e,a){"use strict";a("0365")},3382:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[a("van-list",t._g(t._b({attrs:{finished:t.finished,"finished-text":t.finishedText,"error-text":t.errorText},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},"van-list",t.$attrs,!1),t.$listeners),[t._l(t.list,(function(e,i){return[a("div",{key:"page_item_"+i,staticClass:"list-item"},[t._t("default",[a("van-cell",{attrs:{title:e.name||"--"}})],{item:e})],2)]}))],2)],1)},n=[],s=(a("99af"),a("a9e3"),a("d3b7"),a("2909")),r={name:"list",props:{api:{type:Function},params:{type:Object},pageSize:{type:Number},finishedText:{type:String,default:"没有更多了"},errorText:{type:String,default:"加载失败，请重试！"},dataFilter:{type:Function}},data:function(){return{list:[],loading:!1,finished:!1,refreshing:!1,pageParams:{pageSize:null,page:null},page:{pageSize:null,totalCount:null,currentPage:null}}},created:function(){this.pageParams.pageSize=this.pageSize||10},methods:{onLoad:function(){var t=this;this.pageParams.page=this.page.currentPage?this.page.currentPage+1:1;var e=Object.assign(this.pageParams,this.params);this.api(e).then((function(e){if(e){var a=e.data||(Array.isArray(e)?e:[]);t.list=[].concat(Object(s["a"])(t.list),Object(s["a"])(a)),t.dataFilter&&"function"===typeof t.dataFilter&&(t.list=t.dataFilter(t.list)),t.page.currentPage=e.page,t.page.totalCount=e.totalCount,t.page.pageSize=e.pageSize,(!t.page.pageSize||t.page.currentPage*t.page.pageSize>=t.page.totalCount)&&(t.finished=!0)}else t.finished=!0})).catch((function(){t.finished=!0})).finally((function(){t.loading=!1,t.refreshing=!1}))},onRefresh:function(){this.finished=!1,this.loading=!0,this.list=[],this.page={pageSize:null,totalCount:null,currentPage:null},this.pageParams={pageSize:this.pageSize||10,page:null},this.onLoad()}}},c=r,o=a("2877"),l=Object(o["a"])(c,i,n,!1,null,"0b9a01cc",null);e["a"]=l.exports},"49ee":function(t,e,a){},"5d19":function(t,e,a){"use strict";a("49ee")},7716:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return s}));var i=a("afaa"),n=function(t){return Object(i["a"])({url:"/api-customer/staff-care/article/queryArticle",method:"GET",params:t})},s=function(t){return Object(i["a"])({method:"GET",url:"/api-customer/staff-care/article/articleIsRead",params:t})}},"99a3":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"common-card",on:{click:function(e){return t.rowClick(t.data)}}},[a("div",{staticClass:"item-content"},[a("div",{staticClass:"content-title"},[a("div",{staticClass:"item-image"}),a("div",{staticClass:"style-title"},[t._v(" "+t._s(t.data.articleTitle||"环卫大队门口集合")+" ")]),a("div",{staticClass:"style-sub-text"},[t._v(t._s(t._f("formatDateTime")(t.data.createTime)))])]),a("div",{staticClass:"content-detail"},[t._v(" "+t._s(t.data.description||"环卫大队门口集合，各位同事今天下午有事通知")+" ")])]),a("div",{staticClass:"item-icon",on:{click:function(e){return e.stopPropagation(),t.iconClick(t.data)}}},[a("svg-icon",{staticClass:"image-icon",attrs:{"icon-class":t.iconClass}})],1)])},n=[],s={name:"MessageItem",props:{data:{},iconClass:{type:String,default:"arrow"}},methods:{iconClick:function(t){this.$emit("iconClick",t)},rowClick:function(t){this.$router.push({path:"/message/detail",query:{id:t.id}})}}},r=s,c=(a("1613"),a("2877")),o=Object(c["a"])(r,i,n,!1,null,"f4cc1770",null);e["a"]=o.exports},"99af":function(t,e,a){"use strict";var i=a("23e7"),n=a("d039"),s=a("e8b5"),r=a("861d"),c=a("7b0b"),o=a("50c4"),l=a("8418"),u=a("65f0"),f=a("1dde"),d=a("b622"),p=a("2d00"),g=d("isConcatSpreadable"),h=9007199254740991,m="Maximum allowed index exceeded",v=p>=51||!n((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),b=f("concat"),C=function(t){if(!r(t))return!1;var e=t[g];return void 0!==e?!!e:s(t)},y=!v||!b;i({target:"Array",proto:!0,forced:y},{concat:function(t){var e,a,i,n,s,r=c(this),f=u(r,0),d=0;for(e=-1,i=arguments.length;e<i;e++)if(s=-1===e?r:arguments[e],C(s)){if(n=o(s.length),d+n>h)throw TypeError(m);for(a=0;a<n;a++,d++)a in s&&l(f,d,s[a])}else{if(d>=h)throw TypeError(m);l(f,d++,s)}return f.length=d,f}})},f0c3:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-content"},[a("page-list",{ref:"page-list",attrs:{api:t.pageAPI,params:t.params},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.item;return[a("message-item",{attrs:{data:i},on:{iconClick:t.rowClick}})]}}])})],1)},n=[],s=a("3382"),r=a("99a3"),c=a("7716"),o={name:"message",components:{PageList:s["a"],MessageItem:r["a"]},data:function(){return{pageAPI:c["b"],params:{isWeb:!1}}},watch:{"$store.state.noticeType":{immediate:!0,handler:function(t){this.params.isQueryNotRead=1===t,this.$refs["page-list"]&&this.$refs["page-list"].onRefresh()}}},methods:{rowClick:function(t){this.$router.push({path:"/message/detail",query:{id:t.id}})}}},l=o,u=(a("5d19"),a("2877")),f=Object(u["a"])(l,i,n,!1,null,"85bf5496",null);e["default"]=f.exports}}]);
//# sourceMappingURL=message.9228f32d.js.map