{"version":3,"sources":["webpack:///./src/views/message/components/messageItem.vue?5684","webpack:///./src/views/home/home.vue?1838","webpack:///./src/components/weather/weather.vue?197c","webpack:///./src/api/message/index.js","webpack:///./src/views/home/home.vue?97ce","webpack:///./src/components/weather/weather.vue?af7f","webpack:///src/components/weather/weather.vue","webpack:///./src/components/weather/weather.vue?2224","webpack:///./src/components/weather/weather.vue","webpack:///./src/views/home/components/signCard/signCard.vue?c24d","webpack:///src/views/home/components/signCard/signCard.vue","webpack:///./src/views/home/components/signCard/signCard.vue?faa7","webpack:///./src/views/home/components/signCard/signCard.vue","webpack:///./src/components/map/config/index.js","webpack:///src/views/home/home.vue","webpack:///./src/views/home/home.vue?a0e6","webpack:///./src/views/home/home.vue","webpack:///./src/views/message/components/messageItem.vue?bc11","webpack:///src/views/message/components/messageItem.vue","webpack:///./src/views/message/components/messageItem.vue?38c7","webpack:///./src/views/message/components/messageItem.vue","webpack:///./src/views/home/components/signCard/signCard.vue?64c2","webpack:///./src/api/credits/index.js"],"names":["pageAPI","params","http","url","method","articleIsReadAPI","render","_vm","this","_h","$createElement","_c","_self","on","load","model","value","callback","$$v","loading","expression","staticClass","attrs","_l","item","index","key","directives","name","rawName","$event","stopPropagation","messageDetailClick","messageItem","messageClick","location","_v","toCredits","position","menu","id","link","style","background","bgColor","icon","_s","title","height","weatherShow","staticRenderFns","weatherData","fxDate","_e","day","dayName","textDay","tempMin","tempMax","userInfo","userName","props","data","$store","state","watch","deep","handler","loadData","created","methods","console","log","component","class","active","scopedSlots","_u","fn","proxy","$set","popContent","time","signPoint","totalIntegral","usableIntegral","haveAccessToIntegral","disabled","onSign","signPopover","tips","showSuccess","showLine","signList","allowSign","getPosition","Promise","resolve","reject","AMap","plugin","geolocation","Geolocation","enableHighAccuracy","timeout","buttonOffset","Pixel","zoomToAccuracy","useNative","buttonPosition","getCurrentPosition","event","addListener","components","positionTimeout","images","menus","computed","lng","lat","getLocalPosition","loadBanner","loadMessage","isWeb","articleLocation","BANNER_LOCATION","top","page","pageSize","$router","push","rowClick","articleTitle","_f","createTime","description","iconClick","iconClass","$emit","signInAPI","allowSignInAPI","getIntegralSumAPI","getGoodsImgAPI"],"mappings":"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","file":"static/js/home.6552ccb2.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageItem.vue?vue&type=style&index=0&id=f4cc1770&scoped=true&lang=less&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&id=43aa6b03&scoped=true&lang=less&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./weather.vue?vue&type=style&index=0&id=5a99c1e0&scoped=true&lang=less&\"","/*消息管理api*/\r\nimport http from \"@/server/http.js\";\r\n\r\n//列表（分页）\r\nexport const pageAPI = params => {\r\n  return http({\r\n    url: \"/api-customer/staff-care/article/queryArticle\",\r\n    method: \"GET\",\r\n    params\r\n  });\r\n};\r\n\r\n//公告已读\r\nexport const articleIsReadAPI = params => {\r\n  return http({\r\n    method: \"GET\",\r\n    url: \"/api-customer/staff-care/article/articleIsRead\",\r\n    params\r\n  });\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-pull-refresh',{on:{\"refresh\":_vm.load},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('div',{staticClass:\"home-content\"},[_c('van-swipe',{staticClass:\"swipe-content\",attrs:{\"autoplay\":3000}},_vm._l((_vm.images),function(item,index){return _c('van-swipe-item',{key:index},[(item.imgUrl)?_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.imgUrl),expression:\"item.imgUrl\"}],on:{\"click\":function($event){$event.stopPropagation();return _vm.messageDetailClick(item)}}}):_c('div',{staticClass:\"default-image\"})])}),1),_c('div',{staticClass:\"home-body\"},[_c('message-item',{staticClass:\"message-item\",attrs:{\"data\":_vm.messageItem,\"iconClass\":\"ellipsis-v\"},on:{\"iconClick\":_vm.messageClick}}),_c('div',{staticClass:\"common-card padding-0\"},[_c('weather-card',{attrs:{\"location\":_vm.location}})],1),_c('div',{staticClass:\"common-card padding-0\"},[_c('div',{staticClass:\"card-title style-title\"},[_c('div',[_vm._v(\"签到领积分\")]),_c('div',{staticClass:\"style-sub-title\",on:{\"click\":_vm.toCredits}},[_vm._v(\"积分明细\")])]),_c('sign-card',{attrs:{\"position\":_vm.position}})],1),_c('div',{staticClass:\"common-card padding-0\"},[_c('div',{staticClass:\"card-title style-title\"},[_vm._v(\"员工关爱\")]),_c('van-grid',{attrs:{\"border\":false,\"column-num\":4}},_vm._l((_vm.menus),function(menu){return _c('van-grid-item',{key:menu.id,attrs:{\"to\":menu.link}},[_c('div',{staticClass:\"menu-content\",style:({ background: menu.bgColor })},[_c('svg-icon',{staticClass:\"menu-icon\",attrs:{\"icon-class\":menu.icon}})],1),_c('div',{staticClass:\"style-sub-title\"},[_vm._v(_vm._s(menu.title))])])}),1)],1)],1),_c('van-popup',{style:({ height: '100%' }),attrs:{\"closeable\":\"\",\"position\":\"top\"},model:{value:(_vm.weatherShow),callback:function ($$v) {_vm.weatherShow=$$v},expression:\"weatherShow\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"weather-card\"},[(_vm.weatherData[0])?_c('div',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.weatherData[0].fxDate))]):_vm._e(),_c('div',{staticClass:\"weather-days\"},_vm._l((_vm.weatherData),function(day,index){return _c('div',{key:index,staticClass:\"day\"},[_c('div',{staticClass:\"day-weather\"},[_c('div',[_vm._v(_vm._s(_vm.dayName[index]))]),_c('div',[_vm._v(_vm._s(day.textDay))])]),_c('div',{staticClass:\"day-weather\"},[_c('div',{staticClass:\"tem\"},[_vm._v(_vm._s(day.tempMin)+\"/\"+_vm._s(day.tempMax)+\"℃\")])])])}),0),_c('div',{staticClass:\"tip-content\"},[_c('span',{staticClass:\"tip-title\"},[_vm._v(\"小贴士：\")]),_vm._v(_vm._s(_vm.userInfo.userName)+\"您好！工作忙碌，注意适时休息。 \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"weather-card\">\r\n    <div class=\"date\" v-if=\"weatherData[0]\">{{ weatherData[0].fxDate }}</div>\r\n    <div class=\"weather-days\">\r\n      <div v-for=\"(day, index) in weatherData\" :key=\"index\" class=\"day\">\r\n        <div class=\"day-weather\">\r\n          <div>{{ dayName[index] }}</div>\r\n          <div>{{ day.textDay }}</div>\r\n        </div>\r\n        <div class=\"day-weather\">\r\n          <div class=\"tem\">{{ day.tempMin }}/{{ day.tempMax }}℃</div>\r\n          <!--          <div>{{ day.windDirDay }}{{ day.windScaleDay }}级</div>-->\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"tip-content\">\r\n      <span class=\"tip-title\">小贴士：</span\r\n      >{{ userInfo.userName }}您好！工作忙碌，注意适时休息。\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"weather\",\r\n  props: {\r\n    location: { type: String, default: \"121.478137,31.208805\" }\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      userInfo: this.$store.state.userInfo,\r\n      dayName: [\"今天\", \"明天\", \"后天\"],\r\n      weatherData: [],\r\n      url: \"https://devapi.qweather.com/v7/weather/3d\"\r\n    };\r\n  },\r\n  watch: {\r\n    location: {\r\n      deep: true,\r\n      handler() {\r\n        this.loadData();\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.loadData();\r\n  },\r\n  methods: {\r\n    loadData() {\r\n      console.log(\"location\",this.location)\r\n      axios\r\n        .get(this.url, {\r\n          params: {\r\n            key: \"be422996ad364a0da16f2348bd98dadd\",\r\n            location: this.location || \"121.478137,31.208805\"\r\n          }\r\n        })\r\n        .then(res => {\r\n          if (res.data && res.data.daily) {\r\n            this.weatherData = res.data.daily;\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          setTimeout(() => {\r\n            this.loadData();\r\n          }, 1000);\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.weather-card {\r\n  height: 126px;\r\n  padding: @padding-base;\r\n  background: url(\"../../assets/images/weather_bg.png\") center / cover no-repeat;\r\n\r\n  .date {\r\n    text-align: left;\r\n    padding: @padding-base @padding-xs;\r\n  }\r\n\r\n  .weather-days {\r\n    display: flex;\r\n    height: 56px;\r\n\r\n    .day {\r\n      flex: 1;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: space-between;\r\n\r\n      .day-weather {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        padding: 0 @padding-xs;\r\n      }\r\n    }\r\n\r\n    & .day:nth-child(1) {\r\n      .tem {\r\n        font-size: 26px;\r\n      }\r\n    }\r\n\r\n    & .day:nth-child(n + 2) {\r\n      border-left: 1px solid rgba(0, 0, 0, 0.15);\r\n    }\r\n  }\r\n\r\n  .tip-content {\r\n    width: 100%;\r\n    padding: 12px 4px 8px;\r\n    text-align: left;\r\n\r\n    .tip-title {\r\n      font-weight: bold;\r\n      background-image: @gradient-green;\r\n      -webkit-background-clip: text;\r\n      -webkit-text-fill-color: transparent;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./weather.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./weather.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./weather.vue?vue&type=template&id=5a99c1e0&scoped=true&\"\nimport script from \"./weather.vue?vue&type=script&lang=js&\"\nexport * from \"./weather.vue?vue&type=script&lang=js&\"\nimport style0 from \"./weather.vue?vue&type=style&index=0&id=5a99c1e0&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a99c1e0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sign-card\"},[(_vm.showLine)?_c('div',{staticClass:\"sign-point\"},_vm._l((_vm.signList),function(item){return _c('div',{key:item.id,staticClass:\"sign-item\",class:item.active ? 'active' : ''},[_c('van-popover',{attrs:{\"placement\":\"top\",\"theme\":\"dark\",\"trigger\":\"click\"},scopedSlots:_vm._u([{key:\"reference\",fn:function(){return [_c('div',{staticClass:\"sign-item-point\"})]},proxy:true}],null,true),model:{value:(item.showPopover),callback:function ($$v) {_vm.$set(item, \"showPopover\", $$v)},expression:\"item.showPopover\"}},[_c('div',{staticClass:\"pop-content\"},[_vm._v(_vm._s(item.popContent))])]),_c('div',{staticClass:\"sign-item-content\"},[_vm._v(_vm._s(item.time))])],1)}),0):_vm._e(),_c('div',{staticClass:\"sign-detail\"},[_c('div',{staticClass:\"point\"},[_c('div',{staticClass:\"point\"},[_vm._v(_vm._s(_vm.signPoint.totalIntegral))]),_c('div',{staticClass:\"style-sub-text\"},[_vm._v(\"我的积分\")])]),_c('div',{staticClass:\"point\"},[_c('div',{staticClass:\"point\"},[_vm._v(_vm._s(_vm.signPoint.usableIntegral))]),_c('div',{staticClass:\"style-sub-text\"},[_vm._v(\"今日可领\")])]),_c('div',{staticClass:\"point\"},[_c('div',{staticClass:\"point\"},[_vm._v(_vm._s(_vm.signPoint.haveAccessToIntegral))]),_c('div',{staticClass:\"style-sub-text\"},[_vm._v(\"今日已领\")])]),_c('div',{staticClass:\"btn\"},[_c('van-popover',{attrs:{\"placement\":\"top\",\"theme\":\"dark\",\"trigger\":\"click\"},scopedSlots:_vm._u([{key:\"reference\",fn:function(){return [_c('van-button',{staticClass:\"default-btn\",attrs:{\"size\":\"small\",\"loading\":_vm.loading,\"disabled\":_vm.disabled,\"loading-type\":\"spinner\"},on:{\"click\":_vm.onSign}},[_vm._v(\" 签到 \")])]},proxy:true}]),model:{value:(_vm.signPopover),callback:function ($$v) {_vm.signPopover=$$v},expression:\"signPopover\"}},[(_vm.disabled)?_c('div',{staticClass:\"pop-content\"},[_vm._v(_vm._s(_vm.tips))]):_vm._e()])],1)]),_c('van-dialog',{attrs:{\"show-confirm-button\":false,\"className\":\"sign-success\"},model:{value:(_vm.showSuccess),callback:function ($$v) {_vm.showSuccess=$$v},expression:\"showSuccess\"}},[_c('div',{staticClass:\"common-card\"},[_c('div',{staticClass:\"sign-title\"},[_vm._v(\"恭喜您，签到成功\")]),_c('div',{staticClass:\"sign-sub-title\"},[_vm._v(\"上报健康情况即可再获得积分\")]),_c('div',[_c('van-button',{staticClass:\"sign-btn\",attrs:{\"round\":\"\",\"color\":\"#ee0a24\",\"size\":\"small\"},on:{\"click\":function($event){_vm.showSuccess = false}}},[_vm._v(\" 返 回 \")])],1)]),_c('div',{staticClass:\"sign-image\"},[_c('div',{staticClass:\"sign-score\"},[_vm._v(\"+5\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"sign-card\">\r\n    <div class=\"sign-point\" v-if=\"showLine\">\r\n      <div\r\n        v-for=\"item in signList\"\r\n        :key=\"item.id\"\r\n        class=\"sign-item\"\r\n        :class=\"item.active ? 'active' : ''\"\r\n      >\r\n        <van-popover\r\n          v-model=\"item.showPopover\"\r\n          placement=\"top\"\r\n          theme=\"dark\"\r\n          trigger=\"click\"\r\n        >\r\n          <div class=\"pop-content\">{{ item.popContent }}</div>\r\n          <template #reference>\r\n            <div class=\"sign-item-point\"></div>\r\n          </template>\r\n        </van-popover>\r\n        <div class=\"sign-item-content\">{{ item.time }}</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"sign-detail\">\r\n      <div class=\"point\">\r\n        <div class=\"point\">{{ signPoint.totalIntegral }}</div>\r\n        <div class=\"style-sub-text\">我的积分</div>\r\n      </div>\r\n      <div class=\"point\">\r\n        <div class=\"point\">{{ signPoint.usableIntegral }}</div>\r\n        <div class=\"style-sub-text\">今日可领</div>\r\n      </div>\r\n      <div class=\"point\">\r\n        <div class=\"point\">{{ signPoint.haveAccessToIntegral }}</div>\r\n        <div class=\"style-sub-text\">今日已领</div>\r\n      </div>\r\n      <div class=\"btn\">\r\n        <van-popover\r\n          v-model=\"signPopover\"\r\n          placement=\"top\"\r\n          theme=\"dark\"\r\n          trigger=\"click\"\r\n        >\r\n          <div v-if=\"disabled\" class=\"pop-content\">{{ tips }}</div>\r\n          <template #reference>\r\n            <van-button\r\n              class=\"default-btn\"\r\n              size=\"small\"\r\n              :loading=\"loading\"\r\n              :disabled=\"disabled\"\r\n              loading-type=\"spinner\"\r\n              @click=\"onSign\"\r\n            >\r\n              签到\r\n            </van-button>\r\n          </template>\r\n        </van-popover>\r\n      </div>\r\n    </div>\r\n    <van-dialog\r\n      v-model=\"showSuccess\"\r\n      :show-confirm-button=\"false\"\r\n      className=\"sign-success\"\r\n    >\r\n      <div class=\"common-card\">\r\n        <div class=\"sign-title\">恭喜您，签到成功</div>\r\n        <div class=\"sign-sub-title\">上报健康情况即可再获得积分</div>\r\n        <div>\r\n          <van-button\r\n            round\r\n            color=\"#ee0a24\"\r\n            class=\"sign-btn\"\r\n            size=\"small\"\r\n            @click=\"showSuccess = false\"\r\n          >\r\n            返 回\r\n          </van-button>\r\n        </div>\r\n      </div>\r\n      <div class=\"sign-image\">\r\n        <div class=\"sign-score\">+5</div>\r\n      </div>\r\n    </van-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { allowSignInAPI, signInAPI } from \"@/api/credits\";\r\n\r\nimport { toDateFormat } from \"@/filters/timeFormat\";\r\n\r\nconst ONE_DAY = 1000 * 3600 * 24;\r\n\r\nexport default {\r\n  name: \"signCard\",\r\n  props: {\r\n    showLine: { type: Boolean, default: false },\r\n    position: { type: Object }\r\n  },\r\n  data() {\r\n    return {\r\n      signPoint: {\r\n        totalIntegral: 0,\r\n        usableIntegral: 0,\r\n        haveAccessToIntegral: 0\r\n      },\r\n      disabled: true,\r\n      loading: true,\r\n      tips: \"\",\r\n      signPopover: false,\r\n      showSuccess: false,\r\n      signList: [\r\n        {\r\n          id: 1,\r\n          active: true,\r\n          time: toDateFormat(Date.now() - 2 * ONE_DAY, \"MM-dd\"),\r\n          showPopover: false,\r\n          popContent: \"无排班\"\r\n        },\r\n        {\r\n          id: 2,\r\n          active: false,\r\n          time: toDateFormat(Date.now() - ONE_DAY, \"MM-dd\"),\r\n          showPopover: false,\r\n          popContent: \"无排班\"\r\n        },\r\n        {\r\n          id: 3,\r\n          active: true,\r\n          time: \"今天\",\r\n          showPopover: false,\r\n          popContent: \"无排班\"\r\n        },\r\n        {\r\n          id: 4,\r\n          active: false,\r\n          time: \"明天\",\r\n          showPopover: false,\r\n          popContent: \"有排班\"\r\n        },\r\n        {\r\n          id: 5,\r\n          active: false,\r\n          time: toDateFormat(Date.now() + 2 * ONE_DAY, \"MM-dd\"),\r\n          showPopover: false,\r\n          popContent: \"有排班\"\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  watch: {\r\n    position: {\r\n      deep: true,\r\n      handler() {\r\n        this.allowSign();\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    allowSign() {\r\n      this.loading = true;\r\n      allowSignInAPI(this.position)\r\n        .then(res => {\r\n          this.signPoint = res;\r\n          switch (res.signInStatus) {\r\n            case 1:\r\n              this.disabled = false;\r\n              break;\r\n            case 2:\r\n              this.disabled = true;\r\n              this.tips = res.description;\r\n              break;\r\n            case 3:\r\n              this.disabled = true;\r\n              this.tips = res.description;\r\n              break;\r\n          }\r\n        })\r\n        .finally(() => {\r\n          this.loading = false;\r\n        });\r\n    },\r\n    onSign() {\r\n      signInAPI({ location: this.position })\r\n        .then(() => {\r\n          this.showSuccess = true;\r\n          this.allowSign();\r\n        })\r\n        .catch(err => {\r\n          this.$toast.fail(\"签到失败：\" + err);\r\n          console.log(err);\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.sign-card {\r\n  .sign-point {\r\n    display: flex;\r\n  }\r\n\r\n  .sign-item {\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    position: relative;\r\n  }\r\n\r\n  .sign-item:nth-child(1n + 2)::before {\r\n    content: \"\";\r\n    position: absolute;\r\n    width: calc(100% - 10px);\r\n    height: 1px;\r\n    top: 9px;\r\n    right: calc(50% + 5px);\r\n    background: @blue;\r\n  }\r\n\r\n  .sign-item:nth-child(1n + 4)::before {\r\n    background: @gray-6;\r\n  }\r\n\r\n  .sign-item-point {\r\n    height: 10px;\r\n    width: 10px;\r\n    position: relative;\r\n    border-radius: 5px;\r\n    border: 1px solid @gray-6;\r\n    margin: @margin-base 0;\r\n  }\r\n\r\n  .active .sign-item-point {\r\n    border: 1px solid @blue;\r\n  }\r\n\r\n  .active .sign-item-point::before {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: 2px;\r\n    left: 2px;\r\n    height: 4px;\r\n    width: 4px;\r\n    border-radius: 3px;\r\n    background: @blue;\r\n  }\r\n\r\n  .sign-item-content {\r\n    font-size: @font-size-sm;\r\n    margin-bottom: @margin-xs;\r\n    color: @gray-6;\r\n  }\r\n\r\n  .sign-detail {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: @padding-xs @padding-lg;\r\n\r\n    .point {\r\n      font-size: 24px;\r\n    }\r\n\r\n    .default-btn {\r\n      padding: 0 @padding-md;\r\n      border-radius: @border-radius-md;\r\n    }\r\n  }\r\n}\r\n\r\n.pop-content {\r\n  font-size: @font-size-xs;\r\n  padding: 2px 6px 4px;\r\n}\r\n\r\n::v-deep {\r\n  .van-popover__content {\r\n    border-radius: 0;\r\n  }\r\n}\r\n\r\n.sign-success {\r\n  padding: 0;\r\n  background: transparent;\r\n\r\n  .common-card {\r\n    height: 340px;\r\n    margin: 12px;\r\n    padding-top: 240px;\r\n\r\n    .sign-title {\r\n      font-size: @font-size-xl;\r\n      font-weight: bold;\r\n      color: @red;\r\n      padding-bottom: @padding-base;\r\n    }\r\n\r\n    .sign-sub-title {\r\n      font-size: @font-size-md;\r\n      color: @gray-6;\r\n      padding-bottom: @padding-xs;\r\n    }\r\n\r\n    .sign-btn {\r\n      padding: @padding-base @padding-lg;\r\n    }\r\n  }\r\n\r\n  .sign-image {\r\n    position: absolute;\r\n    top: 12px;\r\n    height: 260px;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background: url(\"../../../../assets/images/sign_success.png\") center /\r\n      contain no-repeat;\r\n\r\n    .sign-score {\r\n      font-size: 48px;\r\n      color: #fcce30;\r\n      padding-top: 56px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./signCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./signCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./signCard.vue?vue&type=template&id=287cfc90&scoped=true&\"\nimport script from \"./signCard.vue?vue&type=script&lang=js&\"\nexport * from \"./signCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./signCard.vue?vue&type=style&index=0&id=287cfc90&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"287cfc90\",\n  null\n  \n)\n\nexport default component.exports","import AMap from \"AMap\";\r\n\r\nexport function getPosition() {\r\n  return new Promise((resolve, reject) => {\r\n    AMap.plugin(\"AMap.Geolocation\", () => {\r\n      let geolocation = new AMap.Geolocation({\r\n        enableHighAccuracy: true,\r\n        timeout: 5000,\r\n        buttonOffset: new AMap.Pixel(10, 20),\r\n        zoomToAccuracy: true,\r\n        useNative: true,\r\n        buttonPosition: \"RB\"\r\n      });\r\n      geolocation.getCurrentPosition();\r\n      AMap.event.addListener(geolocation, \"complete\", data => {\r\n        resolve(data.position);\r\n      });\r\n      AMap.event.addListener(geolocation, \"error\", data => {\r\n        reject(data);\r\n      });\r\n    });\r\n  });\r\n}\r\n","<template>\r\n  <van-pull-refresh v-model=\"loading\" @refresh=\"load\">\r\n    <div class=\"home-content\">\r\n      <van-swipe class=\"swipe-content\" :autoplay=\"3000\">\r\n        <van-swipe-item v-for=\"(item, index) in images\" :key=\"index\">\r\n          <img v-if=\"item.imgUrl\" v-lazy=\"item.imgUrl\" @click.stop=\"messageDetailClick(item)\"/>\r\n          <div v-else class=\"default-image\"></div>\r\n        </van-swipe-item>\r\n      </van-swipe>\r\n      <div class=\"home-body\">\r\n        <message-item\r\n          class=\"message-item\"\r\n          :data=\"messageItem\"\r\n          iconClass=\"ellipsis-v\"\r\n          @iconClick=\"messageClick\"\r\n        ></message-item>\r\n        <div class=\"common-card padding-0\">\r\n          <weather-card :location=\"location\"></weather-card>\r\n        </div>\r\n        <div class=\"common-card padding-0\">\r\n          <div class=\"card-title style-title\">\r\n            <div>签到领积分</div>\r\n            <div class=\"style-sub-title\" @click=\"toCredits\">积分明细</div>\r\n          </div>\r\n          <sign-card :position=\"position\"></sign-card>\r\n        </div>\r\n        <div class=\"common-card padding-0\">\r\n          <div class=\"card-title style-title\">员工关爱</div>\r\n          <van-grid :border=\"false\" :column-num=\"4\">\r\n            <van-grid-item v-for=\"menu in menus\" :key=\"menu.id\" :to=\"menu.link\">\r\n              <div class=\"menu-content\" :style=\"{ background: menu.bgColor }\">\r\n                <svg-icon class=\"menu-icon\" :icon-class=\"menu.icon\" />\r\n              </div>\r\n              <div class=\"style-sub-title\">{{ menu.title }}</div>\r\n            </van-grid-item>\r\n          </van-grid>\r\n        </div>\r\n      </div>\r\n      <van-popup\r\n        v-model=\"weatherShow\"\r\n        closeable\r\n        position=\"top\"\r\n        :style=\"{ height: '100%' }\"\r\n      >\r\n        <!--      <weather-page></weather-page>-->\r\n      </van-popup>\r\n    </div>\r\n  </van-pull-refresh>\r\n</template>\r\n\r\n<script>\r\nimport WeatherCard from \"@/components/weather/weather\";\r\nimport SignCard from \"./components/signCard/signCard\";\r\nimport MessageItem from \"@/views/message/components/messageItem\";\r\nimport { getPosition } from \"../../components/map/config\";\r\n\r\nimport { pageAPI as messagePageAPI } from \"@/api/message\";\r\n\r\nconst POSITION_TIME = 1000 * 10;\r\nconst BANNER_LOCATION = 1; // banner\r\n\r\nexport default {\r\n  name: \"Home\",\r\n  components: { WeatherCard, SignCard, MessageItem },\r\n  data() {\r\n    return {\r\n      title: \"中航环卫\",\r\n      messageItem: {},\r\n      loading: false,\r\n      weatherShow: false,\r\n      positionTimeout: null,\r\n      position: {},\r\n      images: [\"\"],\r\n      menus: [\r\n        {\r\n          id: 1,\r\n          title: \"健康上报\",\r\n          icon: \"menu-health\",\r\n          link: \"/healthReport\",\r\n          bgColor: \"#F49541\"\r\n        },\r\n        {\r\n          id: 2,\r\n          title: \"积分兑换\",\r\n          icon: \"menu-exchange\",\r\n          link: \"/credits/exchange\",\r\n          bgColor: \"#F9C644\"\r\n        },\r\n        {\r\n          id: 3,\r\n          title: \"卫情上报\",\r\n          icon: \"menu-report\",\r\n          link: \"/eventReport\",\r\n          bgColor: \"#28B893\"\r\n        },\r\n        {\r\n          id: 4,\r\n          title: \"查看排班\",\r\n          icon: \"menu-schedule\",\r\n          link: \"/schedule\",\r\n          bgColor: \"#31ADD6\"\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    location() {\r\n      if (this.position.lng && this.position.lat) {\r\n        return this.position.lng + \",\" + this.position.lat;\r\n      }\r\n      return \"\";\r\n    }\r\n  },\r\n  created() {\r\n    this.load();\r\n  },\r\n  methods: {\r\n    load() {\r\n      this.getLocalPosition();\r\n      this.loadBanner();\r\n      this.loadMessage();\r\n    },\r\n    loadBanner() {\r\n      messagePageAPI({\r\n        isWeb: false,\r\n        articleLocation: BANNER_LOCATION,\r\n        top: true,\r\n        page: 1,\r\n        pageSize: 5\r\n      })\r\n        .then(res => {\r\n          if (res.data) {\r\n            if (res.data.length) {\r\n              this.images = [];\r\n              res.data.forEach(item => {\r\n                this.images.push(item);\r\n              });\r\n            } else {\r\n              this.images = [{}];\r\n            }\r\n          }\r\n        })\r\n        .finally(() => {\r\n          this.loading = false;\r\n        });\r\n    },\r\n    loadMessage() {\r\n      messagePageAPI({\r\n        isWeb: false,\r\n        page: 1,\r\n        pageSize: 1\r\n      })\r\n        .then(res => {\r\n          if (res.data) {\r\n            this.messageItem = res.data[0];\r\n          }\r\n        })\r\n        .finally(() => {\r\n          this.loading = false;\r\n        });\r\n    },\r\n    getLocalPosition() {\r\n      getPosition()\r\n        .then(res => {\r\n          this.position = res;\r\n          this.$store.commit(\"SET_POSITION\", this.position);\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        })\r\n        .finally(() => {\r\n          if (!this.position.lng && !this.position.lat) {\r\n            if (this.positionTimeout) {\r\n              clearTimeout(this.positionTimeout);\r\n            }\r\n            this.positionTimeout = setTimeout(() => {\r\n              this.getLocalPosition();\r\n            }, POSITION_TIME);\r\n          }\r\n        });\r\n    },\r\n    toCredits() {\r\n      this.$router.push({ path: \"/credits\" });\r\n    },\r\n    messageClick() {\r\n      this.$router.push({ path: \"/message\" });\r\n    },\r\n    messageDetailClick(data) {\r\n      this.$router.push({ path: \"/message/detail\", query: { id: data.id } });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.home-body {\r\n  padding: 0 @padding-md;\r\n\r\n  .message-item {\r\n    position: relative;\r\n    top: -12px;\r\n    margin: 0 0 -12px;\r\n  }\r\n\r\n  .common-card {\r\n    overflow: hidden;\r\n    position: relative;\r\n\r\n    &.padding-0 {\r\n      padding: 0;\r\n    }\r\n\r\n    .card-title {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      text-align: left;\r\n      padding: @padding-md;\r\n    }\r\n\r\n    .menu-content {\r\n      width: 50px;\r\n      height: 50px;\r\n      padding: @padding-sm;\r\n      border-radius: @border-radius-lg;\r\n      margin-bottom: @margin-xs;\r\n      font-weight: bold;\r\n\r\n      .menu-icon {\r\n        width: 100%;\r\n        height: 100%;\r\n        color: white;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.swipe-content {\r\n  .default-image {\r\n    height: 200px;\r\n    background: url(\"../../assets/images/image_bg.jpg\");\r\n  }\r\n\r\n  img {\r\n    height: 200px;\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n::v-deep {\r\n  .van-grid-item__content {\r\n    padding-top: 0;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./home.vue?vue&type=template&id=43aa6b03&scoped=true&\"\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home.vue?vue&type=style&index=0&id=43aa6b03&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43aa6b03\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"common-card\",on:{\"click\":function($event){return _vm.rowClick(_vm.data)}}},[_c('div',{staticClass:\"item-content\"},[_c('div',{staticClass:\"content-title\"},[_c('div',{staticClass:\"item-image\"}),_c('div',{staticClass:\"style-title\"},[_vm._v(\" \"+_vm._s(_vm.data.articleTitle || \"环卫大队门口集合\")+\" \")]),_c('div',{staticClass:\"style-sub-text\"},[_vm._v(_vm._s(_vm._f(\"formatDateTime\")(_vm.data.createTime)))])]),_c('div',{staticClass:\"content-detail\"},[_vm._v(\" \"+_vm._s(_vm.data.description || \"环卫大队门口集合，各位同事今天下午有事通知\")+\" \")])]),_c('div',{staticClass:\"item-icon\",on:{\"click\":function($event){$event.stopPropagation();return _vm.iconClick(_vm.data)}}},[_c('svg-icon',{staticClass:\"image-icon\",attrs:{\"icon-class\":_vm.iconClass}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"common-card\" @click=\"rowClick(data)\">\r\n    <div class=\"item-content\">\r\n      <div class=\"content-title\">\r\n        <div class=\"item-image\"></div>\r\n        <div class=\"style-title\">\r\n          {{ data.articleTitle || \"环卫大队门口集合\" }}\r\n        </div>\r\n        <div class=\"style-sub-text\">{{ data.createTime | formatDateTime }}</div>\r\n      </div>\r\n      <div class=\"content-detail\">\r\n        {{ data.description || \"环卫大队门口集合，各位同事今天下午有事通知\" }}\r\n      </div>\r\n    </div>\r\n    <div class=\"item-icon\" @click.stop=\"iconClick(data)\">\r\n      <svg-icon class=\"image-icon\" :icon-class=\"iconClass\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"MessageItem\",\r\n  props: {\r\n    data: {},\r\n    iconClass: { type: String, default: \"arrow\" }\r\n  },\r\n  methods: {\r\n    iconClick(data) {\r\n      this.$emit(\"iconClick\", data);\r\n    },\r\n    rowClick(data) {\r\n      this.$router.push({ path: \"/message/detail\", query: { id: data.id } });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.common-card {\r\n  overflow: hidden;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  .item-image {\r\n    height: 18px;\r\n    width: 18px;\r\n    background: url(\"../../../assets/icons/notice@3x.png\") center / cover\r\n      no-repeat;\r\n    margin-right: @margin-base;\r\n  }\r\n\r\n  .item-content {\r\n    min-width: 0;\r\n    flex: 1;\r\n    padding: 0 @padding-xs;\r\n\r\n    .content-title {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n\r\n      .style-title {\r\n        flex: 1;\r\n        min-width: 0;\r\n        font-size: 14px;\r\n        text-align: left;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n        padding-right: @padding-xs;\r\n      }\r\n    }\r\n\r\n    .content-detail {\r\n      font-size: @font-size-sm;\r\n      color: @gray-6;\r\n      text-align: left;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n      padding-top: @padding-xs;\r\n    }\r\n  }\r\n\r\n  .item-icon {\r\n    .image-icon {\r\n      font-size: 18px;\r\n      color: @gray-6;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./messageItem.vue?vue&type=template&id=f4cc1770&scoped=true&\"\nimport script from \"./messageItem.vue?vue&type=script&lang=js&\"\nexport * from \"./messageItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./messageItem.vue?vue&type=style&index=0&id=f4cc1770&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f4cc1770\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./signCard.vue?vue&type=style&index=0&id=287cfc90&scoped=true&lang=less&\"","/*积分管理api*/\r\nimport http from \"@/server/http.js\";\r\n\r\n//列表（分页）\r\nexport const pageAPI = params => {\r\n  return http({\r\n    url: \"/api-customer/staff-care/integral/getIntegralRecord\",\r\n    method: \"GET\",\r\n    params\r\n  });\r\n};\r\n\r\n//积分签到\r\nexport const signInAPI = data => {\r\n  return http({\r\n    method: \"POST\",\r\n    url: \"/api-customer/staff-care/integral/signIn\",\r\n    data\r\n  });\r\n};\r\n\r\n//查询是否允许签到\r\nexport const allowSignInAPI = data => {\r\n  return http({\r\n    method: \"POST\",\r\n    url: \"/api-customer/staff-care/integral/allowSignIn\",\r\n    data\r\n  });\r\n};\r\n\r\n//获取总积分，获取签到信息\r\nexport const getIntegralSumAPI = params => {\r\n  return http({\r\n    method: \"GET\",\r\n    url: \"/api-customer/staff-care/integral/getIntegralSum\",\r\n    params\r\n  });\r\n};\r\n\r\n//积分兑换图片获取\r\nexport const getGoodsImgAPI = data => {\r\n  return http({\r\n    method: \"POST\",\r\n    url: \"/api-customer/staff-care/setting/getGoodsImg\",\r\n    data\r\n  });\r\n};\r\n"],"sourceRoot":""}